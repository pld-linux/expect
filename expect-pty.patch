diff -urNp -x '*.orig' expect5.45.4.org/pty_termios.c expect5.45.4/pty_termios.c
--- expect5.45.4.org/pty_termios.c	2018-02-02 20:15:52.000000000 +0100
+++ expect5.45.4/pty_termios.c	2026-02-19 12:56:33.141279095 +0100
@@ -151,7 +151,11 @@ static char slave_name[] = "/dev/ttyqXXX
 #endif
 
 #if defined(HAVE__GETPTY) || defined(HAVE_PTC_PTS) || defined(HAVE_PTMX)
+# if ((__GLIBC__ == 2) && (__GLIBC_MINOR__ >= 1))
+#include <expect.h>
+#else
 static char *slave_name;
+# endif /* GNU libc-2.1 */
 #endif
 
 #if defined(HAVE_GETPTY)
@@ -389,7 +393,7 @@ exp_getptymaster()
 #else
 	if ((master = open("/dev/ptmx", O_RDWR)) == -1) return(-1);
 #endif
-	if ((slave_name = (char *)ptsname(master)) == NULL) {
+	if (slave_name ==  NULL) {
 		close(master);
 		return(-1);
 	}
